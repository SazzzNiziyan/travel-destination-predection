<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="{{ url_for('static', filename='pngegg.png') }}" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <title>Select Your Choice</title>
    <script src="https://cdn.tailwindcss.com"></script>


        <style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  height: 100%;
  width: 100%;
  font-family: Arial, Helvetica, sans-serif;
  background-color: #f5f5f5;
  color: #333;
}


.btn{
  padding: 10px 20px;
  background-color: #007bff;
  color: white;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 16px;
  text-decoration: none; /* Remove underline */
}

.btn:hover {
  background-color: #0056b3; /* Darker shade on hover */
}

.squarebox2 {
  width: 800px;
  height: 500px;
  background-image: linear-gradient(to bottom right, #1e57c12d, #e0e0e0c0);
  border: 1px solid #ccc;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  padding: 20px;
  display: flex;
  flex-direction: column;
  justify-content: flex-start;  
  align-items: center;
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2; /* Ensure it is above the video */
}

form {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-bottom: 30px;
}

input, select {
  height: 40px;
  width: 90%;
  border: none;
  background-color: #f0f0f097;
}

.background-video {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  z-index: 1;
}
    </style>    


</head>
<body>
    <video class="background-video" autoplay muted loop>
    <source src="{{ url_for('static', filename='mountain-horizon.3840x2160.mp4') }}" type="video/mp4">
    Your browser does not support the video tag.
</video>

    <div class="squarebox2">
        <h1 class="text-4xl font-bold text-center">
            Travel Recommendation System
        </h1>
        <p class="text-lg text-center mb-4">
            Enter your details to get personalized travel recommendations.
        </p>
       <form action="/recommend" method="POST">
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="userId" class="form-label">User ID</label>
                                <input type="number" id="userId" name="user_id" class="form-control" placeholder="Enter your User ID" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="name" class="form-label">Destination Name</label>
                                <select id="name" name="name" class="form-select" required>
                                    <option value="">Select a Destination</option>
                                    <option value="Jaipur City">Jaipur City</option>
                                    <option value="Taj Mahal">Taj Mahal</option>
                                    <option value="Kerala Backwaters">Kerala Backwaters</option>
                                    <option value="Goa Beaches">Goa Beaches</option>
                                    <option value="Leh Ladakh">Leh Ladakh</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="type" class="form-label">Type</label><br>
                                <select id="type" name="type" class="form-select" required>
                                    <option value="">Select a Type</option>
                                    <option value="City">City</option>
                                    <option value="Historical">Historical</option>
                                    <option value="Nature">Nature</option>
                                    <option value="Beach">Beach</option>
                                    <option value="Adventure">Adventure</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="state" class="form-label">State</label><br>
                                <select id="state" name="state" class="form-select" required>
                                    <option value="">Select a State</option>
                                    <option value="Rajasthan">Rajasthan</option>
                                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                                    <option value="Kerala">Kerala</option>
                                    <option value="Goa">Goa</option>
                                    <option value="Jammu and Kashmir">Jammu and Kashmir</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="bestTime" class="form-label">Best Time to Visit</label>
                                <select id="bestTime" name="best_time" class="form-select" required>
                                    <option value="">Select Best Time</option>
                                    <option value="Oct-Mar">Oct-Mar</option>
                                    <option value="Nov-Feb">Nov-Feb</option>
                                    <option value="Sep-Mar">Sep-Mar</option>
                                    <option value="Nov-Mar">Nov-Mar</option>
                                    <option value="Apr-Jun">Apr-Jun</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="preferences" class="form-label">Preferences</label>
                                <select id="preferences" name="preferences" class="form-select" required>
                                    <option value="">Select Preferences</option>
                                    <option value="City, Historical">City, Historical</option>
                                    <option value="Nature, Adventure">Nature, Adventure</option>
                                    <option value="Beaches, Historical">Beaches, Historical</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <label for="gender" class="form-label">Gender</label><br>
                                <select id="gender" name="gender" class="form-select" required>
                                    <option value="">Select Gender</option>
                                    <option value="Female">Female</option>
                                    <option value="Male">Male</option>
                                </select>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="adults" class="form-label">Number of Adults</label>
                                <input type="number" id="adults" name="adults" class="form-control" placeholder="Enter number of adults" required>
                            </div>
                            <div class="col-md-4 mb-3">
                                <label for="children" class="form-label">Number of Children</label>
                                <input type="number" id="children" name="children" class="form-control" placeholder="Enter number of children" required>
                            </div>
                        </div>
                        <button type="submit" class="btn btn-custom mt-3">Get Recommendations</button>
                    </form>



                     <!-- Displaying the recommendations table -->
                     {% if predicted_popularity %}
                     <div class="mt-4 absolute rounded-xl p-5 bg-white bg-opacity-90 flex flex-col items-center">
                    <h2 class="mt-1 text-center text-2xl mb-2">Recommended Destinations</h2>
                    <table class="table table-bordered recommendations-table ">
                        <thead>
                            <tr class="bg-gray-200 text-gray-700 ">
                                <th class="text-start">Destination</th>
                                <th class="text-start">State</th>
                                <th class="pr-10 text-start">Type</th>
                                <th class="text-start">Best Time to Visit</th>
                                <th class="text-start">Popularity</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for destination in recommended_destinations.itertuples() %}
                            <tr class="hover:bg-gray-400 transition-colors duration-200 cursor-pointer">
                                <td class="pr-10">{{ destination.Name }}</td>
                                <td class="pr-10">{{ destination.State }}</td>
                                <td class="pr-10">{{ destination.Type }}</td>
                                <td class="pr-10">{{ destination.BestTimeToVisit }}</td>
                                <td class="pr-10">{{ destination.Popularity }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    {% endif %}

                    <!-- Displaying predicted popularity -->
                    {% if predicted_popularity %}
                    <div class="alert alert-info mt-4" role="alert">
                        <strong>Predicted Popularity Score:</strong> {{ predicted_popularity }}
                    </div>
                    <h3>Thank you for using our Travel Recommendation System!</h3>
                     </div>
                    {% endif %}
</body>
</html>